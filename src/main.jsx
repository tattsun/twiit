import React from 'react'
import TwitterClient from './TwitterClient'
import Store from './store/Twitter'
import TwiitActions from './actions/TwiitActions'
import yaml from 'js-yaml'
import fs from 'fs'

import Timeline from './components/Timeline.react'
import TweetBox from './components/TweetBox.react'

var userhome = process.env.HOME || process.env.USERPROFILE;
var config = yaml.safeLoad(fs.readFileSync(userhome + '/.twiit.yml', 'utf8'));

TwitterClient.init({
    consumer_key: config['consumer_key'],
    consumer_secret: config['consumer_secret'],
    access_token_key: config['access_token_key'],
    access_token_secret: config['access_token_secret']
});

TwiitActions.add({"created_at":"Mon Oct 12 09:42:31 +0000 2015","id":653506019767619600,"id_str":"653506019767619584","text":"RT @sekimiya: クレカが滑った… http://t.co/y5pes9Sm5V","source":"<a href=\"http://twitter.com/download/iphone\" rel=\"nofollow\">Twitter for iPhone</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":5885172,"id_str":"5885172","name":"しゅううGX","screen_name":"syuu1228","location":"Tel Aviv Yafo","url":"http://d.hatena.ne.jp/syuu1228/","description":"Takuya ASADA - いすらえるどなどな","protected":false,"verified":false,"followers_count":8533,"friends_count":8106,"listed_count":655,"favourites_count":132208,"statuses_count":595894,"created_at":"Wed May 09 03:32:02 +0000 2007","utc_offset":32400,"time_zone":"Tokyo","geo_enabled":true,"lang":"ja","contributors_enabled":false,"is_translator":false,"profile_background_color":"C0DEED","profile_background_image_url":"http://abs.twimg.com/images/themes/theme1/bg.png","profile_background_image_url_https":"https://abs.twimg.com/images/themes/theme1/bg.png","profile_background_tile":false,"profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"profile_image_url":"http://pbs.twimg.com/profile_images/642434081637076992/ZN2tunXF_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/642434081637076992/ZN2tunXF_normal.jpg","profile_banner_url":"https://pbs.twimg.com/profile_banners/5885172/1430939001","default_profile":true,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweeted_status":{"created_at":"Mon Oct 12 09:29:27 +0000 2015","id":653502730644787200,"id_str":"653502730644787200","text":"クレカが滑った… http://t.co/y5pes9Sm5V","source":"<a href=\"http://www.apple.com\" rel=\"nofollow\">iOS</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":139340004,"id_str":"139340004","name":"関宮","screen_name":"sekimiya","location":null,"url":null,"description":"迂闊なことはツイートしません。 \n本当です。","protected":false,"verified":false,"followers_count":3158,"friends_count":480,"listed_count":230,"favourites_count":44461,"statuses_count":220574,"created_at":"Sun May 02 08:53:21 +0000 2010","utc_offset":-36000,"time_zone":"Hawaii","geo_enabled":false,"lang":"ja","contributors_enabled":false,"is_translator":false,"profile_background_color":"9AE4E8","profile_background_image_url":"http://abs.twimg.com/images/themes/theme16/bg.gif","profile_background_image_url_https":"https://abs.twimg.com/images/themes/theme16/bg.gif","profile_background_tile":true,"profile_link_color":"0084B4","profile_sidebar_border_color":"BDDCAD","profile_sidebar_fill_color":"DDFFCC","profile_text_color":"333333","profile_use_background_image":true,"profile_image_url":"http://pbs.twimg.com/profile_images/644381743189913601/BQJQJ6HX_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/644381743189913601/BQJQJ6HX_normal.jpg","default_profile":false,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":13,"favorite_count":24,"entities":{"hashtags":[],"urls":[],"user_mentions":[],"symbols":[],"media":[{"id":653502730468659200,"id_str":"653502730468659201","indices":[9,31],"media_url":"http://pbs.twimg.com/media/CRG1RV1VEAE4GsL.jpg","media_url_https":"https://pbs.twimg.com/media/CRG1RV1VEAE4GsL.jpg","url":"http://t.co/y5pes9Sm5V","display_url":"pic.twitter.com/y5pes9Sm5V","expanded_url":"http://twitter.com/sekimiya/status/653502730644787200/photo/1","type":"photo","sizes":{"large":{"w":1024,"h":1365,"resize":"fit"},"small":{"w":340,"h":453,"resize":"fit"},"medium":{"w":600,"h":800,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"}}}]},"extended_entities":{"media":[{"id":653502730468659200,"id_str":"653502730468659201","indices":[9,31],"media_url":"http://pbs.twimg.com/media/CRG1RV1VEAE4GsL.jpg","media_url_https":"https://pbs.twimg.com/media/CRG1RV1VEAE4GsL.jpg","url":"http://t.co/y5pes9Sm5V","display_url":"pic.twitter.com/y5pes9Sm5V","expanded_url":"http://twitter.com/sekimiya/status/653502730644787200/photo/1","type":"photo","sizes":{"large":{"w":1024,"h":1365,"resize":"fit"},"small":{"w":340,"h":453,"resize":"fit"},"medium":{"w":600,"h":800,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"}}}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"filter_level":"low","lang":"ja"},"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[],"urls":[],"user_mentions":[{"screen_name":"sekimiya","name":"関宮","id":139340004,"id_str":"139340004","indices":[3,12]}],"symbols":[],"media":[{"id":653502730468659200,"id_str":"653502730468659201","indices":[23,45],"media_url":"http://pbs.twimg.com/media/CRG1RV1VEAE4GsL.jpg","media_url_https":"https://pbs.twimg.com/media/CRG1RV1VEAE4GsL.jpg","url":"http://t.co/y5pes9Sm5V","display_url":"pic.twitter.com/y5pes9Sm5V","expanded_url":"http://twitter.com/sekimiya/status/653502730644787200/photo/1","type":"photo","sizes":{"large":{"w":1024,"h":1365,"resize":"fit"},"small":{"w":340,"h":453,"resize":"fit"},"medium":{"w":600,"h":800,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"}},"source_status_id":653502730644787200,"source_status_id_str":"653502730644787200","source_user_id":139340004,"source_user_id_str":"139340004"}]},"extended_entities":{"media":[{"id":653502730468659200,"id_str":"653502730468659201","indices":[23,45],"media_url":"http://pbs.twimg.com/media/CRG1RV1VEAE4GsL.jpg","media_url_https":"https://pbs.twimg.com/media/CRG1RV1VEAE4GsL.jpg","url":"http://t.co/y5pes9Sm5V","display_url":"pic.twitter.com/y5pes9Sm5V","expanded_url":"http://twitter.com/sekimiya/status/653502730644787200/photo/1","type":"photo","sizes":{"large":{"w":1024,"h":1365,"resize":"fit"},"small":{"w":340,"h":453,"resize":"fit"},"medium":{"w":600,"h":800,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"}},"source_status_id":653502730644787200,"source_status_id_str":"653502730644787200","source_user_id":139340004,"source_user_id_str":"139340004"}]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"filter_level":"low","lang":"ja","timestamp_ms":"1444642951324"});

const Main = React.createClass({
    render() {
        return <div>
            <TweetBox />
            <Timeline />
        </div>
    }
})

var container = document.querySelector('#container')
React.render(<Main />, container)
